sudo ip netns exec attacker-ns wrk -t1 -c4 -d30s http://192.168.100.1/
sudo ip netns exec attacker-ns ab -n 100 -c 4 http://192.168.100.1/

sudo systemctl stop nginx
sudo systemctl restart nginx

sudo -E ip netns exec attacker-ns python3 http_flood.py 

# This will show all packets going to or coming from 192.168.100.1.
sudo ip netns exec attacker-ns tcpdump -i any host 192.168.100.1 -n

# This saves the captured packets to a file that you can analyze later with Wireshark.


sudo ip netns exec attacker-ns tcpreplay -i veth-att --stats=1000 traffic.pcap
sudo ip netns exec attacker-ns tcpreplay -i veth-att traffic.pcap
sudo ip netns exec attacker-ns tcpreplay --pps=100 -i veth-att traffic.pcap
sudo ip netns exec attacker-ns tcpreplay --loop=10 -i veth-att traffic.pcap

python3 packet_gen.py -n 100000 -r 0.3 -o traffic.pcap


    sudo ip netns exec attacker-ns ping -c 50 192.168.100.1
ðŸ“Œ Má»™t sá»‘ option hay Ä‘i kÃ¨m:

-i 0.2 â†’ chá»‰nh khoáº£ng cÃ¡ch giá»¯a 2 gÃ³i (máº·c Ä‘á»‹nh 1 giÃ¢y).

-s 1400 â†’ chá»‰nh kÃ­ch thÆ°á»›c payload gÃ³i ICMP.

-q â†’ cháº¿ Ä‘á»™ â€œquietâ€, chá»‰ in summary sau khi ping xong.

sudo -E ip netns exec attacker-ns python3 benchmark.py -t 192.168.100.1 -p 80 -m syn_only
sudo ip netns exec attacker-ns tcpdump -i veth-att -w capture.pcap

sudo ip netns exec victim-ns tcpdump -i veth-vic src host 192.168.200.2 -w capture_victim.pcap

sudo ip netns exec victim-ns ./src/h2load --h1 -c 5 -t 1 -D 20s http://192.168.100.1/           
sudo ip netns exec attacker-ns ./src/h2load --h1 -c 100 -t 1 -D 30s http://192.168.100.1/   
sudo ip netns exec attacker-ns taskset -c 0 h2load --h1 -c 1 -t 1 -D 45s http://192.168.100.1/


sudo truncate -s 0 /var/log/nginx/error.log
sudo truncate -s 0 /var/log/nginx/access.log


sudo apt install python3-venv -y

# táº¡o venv riÃªng
python3 -m venv venv

# kÃ­ch hoáº¡t venv
source venv/bin/activate

# cÃ i lib trong venv
pip install pandas matplotlib

# cháº¡y script
python3 your_script.py

sudo taskset -c 3 timeout 30s ip netns exec attacker-ns hping3 -S -p 80 --flood 192.168.100.1


pidstat -p $(pgrep -o -P $(pgrep -o nginx)) 1  > cpu_usage.log
ln -s /var/log/nginx/access.log ~/Manh/PacketFilter/monitor/access.log
